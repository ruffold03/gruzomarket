<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/base}"
      lang="ru">
<head>
    <title>Главная</title>
</head>
<body>
<div layout:fragment="content">

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="row justify-content-start">
                <div class="col-lg-6 text-start hero-content animate-fadeInUp">
                    <h1 class="hero-title">Ваш груз - наш маркет</h1>
                    <p class="hero-subtitle">
                        Запчасти от проверенных производителей. Быстрая доставка по всей России. Гарантия качества на все товары.
                    </p>
                    <form th:action="@{/products}" method="get" class="hero-search mt-4 d-flex align-items-center">
                        <input type="text" name="search" class="form-control hero-input" placeholder="Поиск по артикулу или названию...">
                        <button class="btn btn-hero ms-3" type="submit">Найти запчасть</button>
                    </form>
                    <a class="btn btn-hero mt-4" th:href="@{/products}">
                        <i class="fas fa-truck me-2"></i>Перейти в каталог
                    </a>
                </div>
                <!-- Карусель категорий справа -->
                <div class="col-lg-6 mt-4 mt-lg-0">
                    <div id="categoriesCarousel" class="carousel slide categories-carousel" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            <!-- Категория 1 -->
                            <div class="carousel-item active">
                                <div class="category-slide text-center">
                                    <div class="category-image-wrapper">
                                        <img src="/images/filter.png" alt="Фильтры" class="category-img">
                                    </div>
                                    <div class="category-text-wrapper">
                                        <h4 class="category-name">Фильтры</h4>
                                        <p class="category-desc">Топливные, масляные, воздушные</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Категория 2 -->
                            <div class="carousel-item">
                                <div class="category-slide text-center">
                                    <div class="category-image-wrapper">
                                        <img src="/images/amortization.png" alt="Амортизаторы" class="category-img">
                                    </div>
                                    <div class="category-text-wrapper">
                                        <h4 class="category-name">Амортизаторы</h4>
                                        <p class="category-desc">Для всех типов подвесок</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Категория 3 -->
                            <div class="carousel-item">
                                <div class="category-slide text-center">
                                    <div class="category-image-wrapper">
                                        <img src="/images/optic.png" alt="Оптика" class="category-img">
                                    </div>
                                    <div class="category-text-wrapper">
                                        <h4 class="category-name">Оптика</h4>
                                        <p class="category-desc">Фары, фонари, поворотники</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Категория 4 -->
                            <div class="carousel-item">
                                <div class="category-slide text-center">
                                    <div class="category-image-wrapper">
                                        <img src="/images/trubs.png" alt="Трубы" class="category-img">
                                    </div>
                                    <div class="category-text-wrapper">
                                        <h4 class="category-name">Трубы</h4>
                                        <p class="category-desc">Выхлопные, гидравлические</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Категория 5 -->
                            <div class="carousel-item">
                                <div class="category-slide text-center">
                                    <div class="category-image-wrapper">
                                        <img src="/images/podshipnik.png" alt="Подшипники" class="category-img">
                                    </div>
                                    <div class="category-text-wrapper">
                                        <h4 class="category-name">Подшипники</h4>
                                        <p class="category-desc">Все размеры и типы</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Категория 6 -->
                            <div class="carousel-item">
                                <div class="category-slide text-center">
                                    <div class="category-image-wrapper">
                                        <img src="/images/klapan.png" alt="Клапаны" class="category-img">
                                    </div>
                                    <div class="category-text-wrapper">
                                        <h4 class="category-name">Клапаны</h4>
                                        <p class="category-desc">Топливные, гидравлические</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Простые стрелки без фона -->
                        <button class="carousel-control-prev cat-control-prev" type="button" data-bs-target="#categoriesCarousel" data-bs-slide="prev">
                            <i class="fas fa-chevron-left"></i>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next cat-control-next" type="button" data-bs-target="#categoriesCarousel" data-bs-slide="next">
                            <i class="fas fa-chevron-right"></i>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Features Section -->
    <section class="features-section">
        <div class="container">
            <div class="row g-4">
                <div class="col-md-3">
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-shipping-fast"></i></div>
                        <h3 class="feature-title">Быстрая доставка</h3>
                        <p>Отправка в день заказа. Доставка по РФ от 1 до 5 дней.</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-check-circle"></i></div>
                        <h3 class="feature-title">Гарантия качества</h3>
                        <p>Оригинальные запчасти и сертифицированные аналоги.</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-headset"></i></div>
                        <h3 class="feature-title">Поддержка</h3>
                        <p>Поможем с подбором запчастей и оформлением заказа.</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="feature-card">
                        <div class="feature-icon"><i class="fas fa-shield-alt"></i></div>
                        <h3 class="feature-title">Безопасная оплата</h3>
                        <p>Разные способы оплаты и безопасные транзакции.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Categories + Featured products -->
    <section class="categories-section">
        <div class="container">
            <div class="section-title">
                <h2>Популярные категории</h2>
                <p class="text-muted mt-3">Перейдите в каталог и воспользуйтесь фильтрами для поиска</p>
            </div>

            <div class="row">
                <div class="col-lg-12">
                    <div class="row g-4">
                        <div class="col-md-4" th:each="c : ${categories}">
                            <a class="text-decoration-none" th:href="@{/products}">
                                <div class="category-card">
                                    <div class="category-image"
                                         th:style="'background-image: url(' + @{/images/engine.jpg} + ');'"></div>
                                    <div class="category-content">
                                        <h5 class="category-title" th:text="${c.name}">Категория</h5>
                                        <p class="text-muted small">Запчасти и комплектующие</p>
                                        <div class="category-count">Перейти</div>
                                        <span class="category-link"><i class="fas fa-arrow-right"></i></span>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>

                    <div class="section-title mt-5">
                        <h2>Рекомендуемые товары</h2>
                    </div>

                    <div class="row g-4">
                        <div class="col-md-4" th:each="p : ${products}">
                            <div class="product-card">
                                <span class="product-badge" th:text="${p.quantity != null && p.quantity > 0 ? 'В наличии' : 'Под заказ'}">В наличии</span>
                                <div class="product-image"
                                     th:style="'background-image: url(' + @{/images/turbo.jpg} + ');'">
                                    <div class="product-overlay">
                                        <a class="quick-view-btn" th:href="@{/products}">Открыть каталог</a>
                                    </div>
                                </div>
                                <div class="product-content">
                                    <div class="product-category">Запчасти</div>
                                    <h5 class="product-title" th:text="${p.name}">Товар</h5>
                                    <div class="product-article" th:text="'Артикул: ' + ${p.article}">Артикул</div>
                                    <div class="product-price" th:text="${#numbers.formatDecimal(p.price,0,'COMMA',2,'POINT')} + ' ₽'">0 ₽</div>
                                    <div class="product-actions">
                                        <button class="btn-add-cart"
                                                type="button"
                                                th:attr="data-product-id=${p.id}"
                                                th:disabled="${p.quantity == null || p.quantity == 0}">
                                            <i class="fas fa-cart-plus me-2"></i>В корзину
                                        </button>
                                        <button class="btn-favorite" type="button"><i class="far fa-heart"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="text-center mt-5">
                        <a th:href="@{/products}" class="btn btn-primary btn-lg">
                            <i class="fas fa-list me-2"></i>Показать все товары
                        </a>
                    </div>

                </div>
            </div>
        </div>
    </section>

<!--    &lt;!&ndash; Brands Section &ndash;&gt;-->
<!--    <section class="brands-section">-->
<!--        <div class="container">-->
<!--            <div class="section-title">-->
<!--                <h2>Популярные бренды</h2>-->
<!--                <p class="text-muted mt-3">Запчасти от ведущих производителей</p>-->
<!--            </div>-->

<!--            <div class="row g-4">-->
<!--                <div class="col-6 col-md-3 col-lg-2" th:each="b : ${brands}">-->
<!--                    <a th:href="@{/brands}" class="text-decoration-none">-->
<!--                        <div class="brand-card">-->
<!--                            <span class="brand-logo" th:text="${b.name}">Brand</span>-->
<!--                        </div>-->
<!--                    </a>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </section>-->
    <!-- Brands Section -->
    <section class="brands-section">
        <div class="container">
            <div class="section-title">
                <h2>Популярные бренды</h2>
                <p class="text-muted mt-3">Запчасти от ведущих производителей</p>
            </div>

            <!-- Карусель с 5 видимыми брендами -->
            <div id="brandsCarousel" class="brands-carousel-wrapper">
                <div class="brands-carousel-track">
                    <!-- Бренды будут добавляться через JavaScript -->
                    <!-- Структура для каждого бренда: -->
                    <!--
                    <div class="brand-item" data-index="0">
                        <img src="/images/brands/kamaz.png" alt="КАМАЗ" class="brand-logo">
                        <div class="brand-name">КАМАЗ</div>
                    </div>
                    -->
                </div>

                <!-- Стрелки навигации -->
                <button class="brand-arrow brand-arrow-prev">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="brand-arrow brand-arrow-next">
                    <i class="fas fa-chevron-right"></i>
                </button>

                <!-- Индикаторы (опционально) -->
                <div class="brand-indicators"></div>
            </div>
        </div>
    </section>

</div>
</body>
</html>

